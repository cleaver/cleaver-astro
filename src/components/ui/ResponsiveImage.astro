---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

type Props = {
  src: ImageMetadata;
  alt: string;
  sizes: string;
  class?: string;
  loading?: 'lazy' | 'eager';
};

const props = Astro.props;
const widths = [400, 800, 1200];
---

<div class:list={['responsive-image', props.class]}>
  <Image
    src={props.src}
    alt={props.alt}
    widths={widths}
    sizes={props.sizes}
    format="webp"
    loading={props.loading ?? 'lazy'}
    quality={80}
  />
</div>

<style>
  .responsive-image {
    width: 100%;
  }
  .responsive-image img {
    width: 100%;
    height: auto;
    display: block;
  }
</style>
