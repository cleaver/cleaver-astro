# cleaver.ca Rebuild with Astro.js - Development Tasks

This document breaks down the requirements for rebuilding cleaver.ca with Astro.js into discrete, actionable tasks organized by topic area. Each task is designed to be specific enough for implementation without requiring additional context.

## 1. Project Setup and Configuration

### 1.1 Initial Project Setup

- [ ] 1.1.1 Initialize a new Astro.js project using the latest stable version (v5.0+)
- [ ] 1.1.2 Set up the project directory structure following Astro.js conventions
- [ ] 1.1.3 Configure Git repository with appropriate .gitignore file
- [ ] 1.1.4 Create README.md with project overview and setup instructions


### 1.2 Dependencies Installation

- [ ] 1.2.1 Install core dependencies: astro, @astrojs/tailwind, tailwindcss
- [ ] 1.2.2 Install typography plugin: @tailwindcss/typography
- [ ] 1.2.3 Install SEO-related packages: @astrojs/sitemap, @astrojs/rss
- [ ] 1.2.4 Install Markdown enhancement packages: rehype-slug, rehype-autolink-headings, shiki
- [ ] 1.2.5 Install development dependencies: prettier, prettier-plugin-tailwindcss, eslint


### 1.3 Configuration Files

- [ ] 1.3.1 Create astro.config.mjs with output, build settings, and integrations
- [ ] 1.3.2 Configure tailwind.config.js with content paths, dark mode, and custom theme
- [ ] 1.3.3 Set up tsconfig.json for TypeScript support
- [ ] 1.3.4 Create .prettierrc and .eslintrc for code formatting and linting
- [ ] 1.3.5 Configure package.json with appropriate scripts (dev, build, preview, lint, format)


## 2. Content Structure and Migration

### 2.1 Content Directory Setup

- [ ] 2.1.1 Create content collection structure in content/blog/
- [ ] 2.1.2 Set up year/month directory organization (e.g., content/blog/2023/01/)
- [ ] 2.1.3 Create content/about/ directory for the About page content
- [ ] 2.1.4 Set up public/images/ directory with year/month structure


### 2.2 Content Migration

- [ ] 2.2.1 Export existing blog posts to Markdown format
- [ ] 2.2.2 Standardize frontmatter format for all blog posts
- [ ] 2.2.3 Verify all required metadata fields are present (title, date, description, pubDate)
- [ ] 2.2.4 Convert About page content to Markdown format
- [ ] 2.2.5 Extract and optimize all images from existing content


### 2.3 Image Processing

- [ ] 2.3.1 Create an image processing workflow to convert images to WebP format
- [ ] 2.3.2 Implement naming convention: YYYY-MM-DD-article-slug-XX.webp
- [ ] 2.3.3 Verify all images have descriptive alt text
- [ ] 2.3.4 Set up responsive image generation using Astro Image component
- [ ] 2.3.5 Implement lazy loading for all images


## 3. Layout and Component Development

### 3.1 Base Layout Components

- [ ] 3.1.1 Create BaseLayout.astro component with HTML structure and metadata
- [ ] 3.1.2 Implement Header.astro component with site title, navigation, and dark mode toggle
- [ ] 3.1.3 Develop Footer.astro component with copyright, RSS, and sitemap links
- [ ] 3.1.4 Create SEO.astro component for consistent metadata across pages
- [ ] 3.1.5 Implement skip-to-content link for accessibility


### 3.2 Blog Components

- [ ] 3.2.1 Create BlogPostPreview.astro for article listings on homepage
- [ ] 3.2.2 Develop BlogPost.astro for full article display
- [ ] 3.2.3 Implement Pagination.astro component with previous/next buttons
- [ ] 3.2.4 Create TagList.astro component for displaying article tags
- [ ] 3.2.5 Develop RelatedPosts.astro component for showing related articles


### 3.3 Utility Components

- [ ] 3.3.1 Implement DarkModeToggle.astro with sun/moon icons
- [ ] 3.3.2 Create FormattedDate.astro for consistent date formatting
- [ ] 3.3.3 Develop ReadingTime.astro to calculate and display estimated reading time
- [ ] 3.3.4 Implement ImageWithCaption.astro for figures with captions
- [ ] 3.3.5 Create CodeBlock.astro for syntax-highlighted code snippets


## 4. Page Templates

### 4.1 Homepage

- [ ] 4.1.1 Create index.astro with paginated article list
- [ ] 4.1.2 Implement pagination logic using Astro's getStaticPaths
- [ ] 4.1.3 Set up article sorting by publication date (newest first)
- [ ] 4.1.4 Configure display of 5 articles per page
- [ ] 4.1.5 Implement excerpt generation using <!-- more --> divider


### 4.2 Article Pages

- [ ] 4.2.1 Create [slug].astro dynamic route for article pages
- [ ] 4.2.2 Implement article metadata display (title, date, author, tags)
- [ ] 4.2.3 Set up featured image display with proper responsive sizing
- [ ] 4.2.4 Add previous/next article navigation
- [ ] 4.2.5 Implement related articles section based on shared tags


### 4.3 About Page

- [ ] 4.3.1 Create about.astro page
- [ ] 4.3.2 Implement profile information section
- [ ] 4.3.3 Add professional background content
- [ ] 4.3.4 Set up contact information with email spam protection
- [ ] 4.3.5 Add links to professional profiles if applicable


### 4.4 Tag Pages

- [ ] 4.4.1 Create tags/[tag].astro dynamic route for tag pages
- [ ] 4.4.2 Implement pagination for articles with specific tags
- [ ] 4.4.3 Create tags/index.astro to list all available tags
- [ ] 4.4.4 Add tag count display showing number of articles per tag
- [ ] 4.4.5 Implement sorting of tags by popularity or alphabetically


## 5. Styling and Design

### 5.1 Tailwind Configuration

- [ ] 5.1.1 Set up custom color palette for light and dark modes
- [ ] 5.1.2 Configure typography settings for body text and headings
- [ ] 5.1.3 Set up responsive breakpoints (mobile, tablet, desktop)
- [ ] 5.1.4 Configure dark mode variant using 'class' strategy
- [ ] 5.1.5 Set up PurgeCSS to remove unused styles


### 5.2 Base Styling

- [ ] 5.2.1 Implement system font stack for body text and headings
- [ ] 5.2.2 Set up monospace font stack for code blocks
- [ ] 5.2.3 Configure base font size (16px) and line heights
- [ ] 5.2.4 Implement fluid typography scaling based on viewport
- [ ] 5.2.5 Set up global styles for links, buttons, and form elements


### 5.3 Component Styling

- [ ] 5.3.1 Style header with responsive navigation
- [ ] 5.3.2 Implement footer styling with proper spacing
- [ ] 5.3.3 Style article previews with consistent layout
- [ ] 5.3.4 Design pagination controls with clear visual feedback
- [ ] 5.3.5 Style dark mode toggle with smooth transitions


### 5.4 Responsive Design

- [ ] 5.4.1 Implement mobile-first layout approach
- [ ] 5.4.2 Create responsive grid layout for article listings
- [ ] 5.4.3 Design collapsible navigation for mobile devices
- [ ] 5.4.4 Ensure proper spacing and typography on all screen sizes
- [ ] 5.4.5 Test and optimize for all breakpoints (mobile, tablet, desktop)


## 6. Functionality Implementation

### 6.1 Dark Mode

- [ ] 6.1.1 Implement dark mode toggle component
- [ ] 6.1.2 Add system preference detection using prefers-color-scheme
- [ ] 6.1.3 Set up localStorage for persisting user preference
- [ ] 6.1.4 Implement flash prevention on initial page load
- [ ] 6.1.5 Add smooth transition between light and dark modes


### 6.2 RSS Feed

- [ ] 6.2.1 Create rss.xml.js file using @astrojs/rss
- [ ] 6.2.2 Configure feed title, description, and site URL
- [ ] 6.2.3 Set up article mapping to feed items
- [ ] 6.2.4 Include publication date, title, description, and link
- [ ] 6.2.5 Add RSS link to site header or footer


### 6.3 Sitemap

- [ ] 6.3.1 Configure @astrojs/sitemap integration
- [ ] 6.3.2 Set site URL in astro.config.mjs
- [ ] 6.3.3 Configure changefreq and priority settings
- [ ] 6.3.4 Create robots.txt file with sitemap reference
- [ ] 6.3.5 Add sitemap link to HTML head


### 6.4 Related Articles

- [ ] 6.4.1 Implement algorithm to find articles with shared tags
- [ ] 6.4.2 Sort related articles by number of matching tags
- [ ] 6.4.3 Limit display to 3 related articles per page
- [ ] 6.4.4 Show title, date, and brief excerpt for each related article
- [ ] 6.4.5 Add "Read more" links to full articles


## 7. SEO and Performance

### 7.1 SEO Implementation

- [ ] 7.1.1 Create reusable SEO component with all required meta tags
- [ ] 7.1.2 Implement Open Graph tags for social sharing
- [ ] 7.1.3 Add Twitter Card metadata
- [ ] 7.1.4 Set up canonical URLs for all pages
- [ ] 7.1.5 Implement JSON-LD structured data for articles and breadcrumbs


### 7.2 Performance Optimization

- [ ] 7.2.1 Configure image optimization with appropriate sizes and formats
- [ ] 7.2.2 Implement font loading strategy to prevent layout shifts
- [ ] 7.2.3 Set up preloading for critical resources
- [ ] 7.2.4 Optimize CSS delivery with critical CSS
- [ ] 7.2.5 Verify zero JavaScript by default (except dark mode toggle)


### 7.3 Accessibility Implementation

- [ ] 7.3.1 Ensure proper heading hierarchy throughout the site
- [ ] 7.3.2 Implement keyboard navigation with visible focus indicators
- [ ] 7.3.3 Add skip-to-content link at the top of each page
- [ ] 7.3.4 Ensure sufficient color contrast (minimum 4.5:1)
- [ ] 7.3.5 Add ARIA attributes where necessary


## 8. Deployment and Testing

### 8.1 Local Testing

- [ ] 8.1.1 Set up automated testing for build process
- [ ] 8.1.2 Implement pre-commit hooks for linting and formatting
- [ ] 8.1.3 Create test scripts for critical functionality
- [ ] 8.1.4 Test site on multiple browsers and devices
- [ ] 8.1.5 Verify all pages pass Lighthouse audits


### 8.2 Cloudflare Pages Setup

- [ ] 8.2.1 Create Cloudflare Pages project
- [ ] 8.2.2 Connect GitHub repository to Cloudflare Pages
- [ ] 8.2.3 Configure build settings (build command, output directory)
- [ ] 8.2.4 Set up custom domain (cleaver.ca)
- [ ] 8.2.5 Configure HTTPS and other security settings


### 8.3 Continuous Integration

- [ ] 8.3.1 Set up GitHub Actions workflow
- [ ] 8.3.2 Configure automated tests on pull requests
- [ ] 8.3.3 Implement Lighthouse CI for performance monitoring
- [ ] 8.3.4 Set up UptimeRobot for monitoring
- [ ] 8.3.5 Configure error tracking for console errors


### 8.4 Post-Deployment

- [ ] 8.4.1 Submit sitemap to Google Search Console
- [ ] 8.4.2 Verify all pages are indexed correctly
- [ ] 8.4.3 Test site performance in real-world conditions
- [ ] 8.4.4 Set up Cloudflare Analytics
- [ ] 8.4.5 Create documentation for future maintenance

